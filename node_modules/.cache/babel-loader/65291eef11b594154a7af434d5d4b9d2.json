{"ast":null,"code":"import _objectSpread from\"C:/Users/1/Desktop/trello-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"C:/Users/1/Desktop/trello-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/1/Desktop/trello-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/Users/1/Desktop/trello-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/1/Desktop/trello-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/1/Desktop/trello-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/1/Desktop/trello-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import\"../styles/List.css\";import React,{Component}from\"react\";import{connect}from\"react-redux\";import{Droppable,Draggable}from\"react-beautiful-dnd\";import Card from\"./Card\";import CardEditor from\"./CardEditor\";import ListEditor from\"./ListEditor\";import shortid from\"shortid\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var List=/*#__PURE__*/function(_Component){_inherits(List,_Component);var _super=_createSuper(List);function List(){var _this;_classCallCheck(this,List);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={editingTitle:false,title:_this.props.list.title,addingCard:false};_this.toggleAddingCard=function(){return _this.setState({addingCard:!_this.state.addingCard});};_this.addCard=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(cardText){var _this$props,listId,dispatch,cardId;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$props=_this.props,listId=_this$props.listId,dispatch=_this$props.dispatch;_this.toggleAddingCard();cardId=shortid.generate();dispatch({type:\"ADD_CARD\",payload:{cardText:cardText,cardId:cardId,listId:listId}});case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.toggleEditingTitle=function(){return _this.setState({editingTitle:!_this.state.editingTitle});};_this.handleChangeTitle=function(e){return _this.setState({title:e.target.value});};_this.editListTitle=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _this$props2,listId,dispatch,title;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this$props2=_this.props,listId=_this$props2.listId,dispatch=_this$props2.dispatch;title=_this.state.title;_this.toggleEditingTitle();dispatch({type:\"CHANGE_LIST_TITLE\",payload:{listId:listId,listTitle:title}});case 4:case\"end\":return _context2.stop();}}},_callee2);}));_this.deleteList=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var _this$props3,listId,list,dispatch;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_this$props3=_this.props,listId=_this$props3.listId,list=_this$props3.list,dispatch=_this$props3.dispatch;if(window.confirm(\"Are you sure to delete this list?\")){dispatch({type:\"DELETE_LIST\",payload:{listId:listId,cards:list.cards}});}case 2:case\"end\":return _context3.stop();}}},_callee3);}));return _this;}_createClass(List,[{key:\"render\",value:function render(){var _this2=this;var _this$props4=this.props,list=_this$props4.list,index=_this$props4.index;var _this$state=this.state,editingTitle=_this$state.editingTitle,addingCard=_this$state.addingCard,title=_this$state.title;return/*#__PURE__*/_jsx(Draggable,{draggableId:list._id,index:index,children:function children(provided,snapshot){return/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread(_objectSpread({ref:provided.innerRef},provided.draggableProps),provided.dragHandleProps),{},{className:\"List\",children:[editingTitle?/*#__PURE__*/_jsx(ListEditor,{list:list,title:title,handleChangeTitle:_this2.handleChangeTitle,saveList:_this2.editListTitle,onClickOutside:_this2.editListTitle,deleteList:_this2.deleteList}):/*#__PURE__*/_jsx(\"div\",{className:\"List-Title\",onClick:_this2.toggleEditingTitle,children:list.title}),/*#__PURE__*/_jsx(Droppable,{droppableId:list._id,children:function children(provided,_snapshot){return/*#__PURE__*/_jsxs(\"div\",{ref:provided.innerRef,className:\"Lists-Cards\",children:[list.cards&&list.cards.map(function(cardId,index){return/*#__PURE__*/_jsx(Card,{cardId:cardId,index:index,listId:list._id},cardId);}),provided.placeholder,addingCard?/*#__PURE__*/_jsx(CardEditor,{onSave:_this2.addCard,onCancel:_this2.toggleAddingCard,adding:true}):/*#__PURE__*/_jsxs(\"div\",{className:\"Toggle-Add-Card\",onClick:_this2.toggleAddingCard,children:[/*#__PURE__*/_jsx(\"ion-icon\",{name:\"add\"}),\" Add a card\"]})]});}})]}));}});}}]);return List;}(Component);var mapStateToProps=function mapStateToProps(state,ownProps){return{list:state.listsById[ownProps.listId]};};export default connect(mapStateToProps)(List);","map":{"version":3,"sources":["C:/Users/1/Desktop/trello-clone/src/components/List.js"],"names":["React","Component","connect","Droppable","Draggable","Card","CardEditor","ListEditor","shortid","List","state","editingTitle","title","props","list","addingCard","toggleAddingCard","setState","addCard","cardText","listId","dispatch","cardId","generate","type","payload","toggleEditingTitle","handleChangeTitle","e","target","value","editListTitle","listTitle","deleteList","window","confirm","cards","index","_id","provided","snapshot","innerRef","draggableProps","dragHandleProps","_snapshot","map","placeholder","mapStateToProps","ownProps","listsById"],"mappings":"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","sourcesContent":["import \"../styles/List.css\";\n\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Droppable, Draggable } from \"react-beautiful-dnd\";\n\nimport Card from \"./Card\";\nimport CardEditor from \"./CardEditor\";\nimport ListEditor from \"./ListEditor\";\n\nimport shortid from \"shortid\";\n\nclass List extends Component {\n  state = {\n    editingTitle: false,\n    title: this.props.list.title,\n    addingCard: false\n  };\n\n  toggleAddingCard = () =>\n    this.setState({ addingCard: !this.state.addingCard });\n\n  addCard = async cardText => {\n    const { listId, dispatch } = this.props;\n\n    this.toggleAddingCard();\n\n    const cardId = shortid.generate();\n\n    dispatch({\n      type: \"ADD_CARD\",\n      payload: { cardText, cardId, listId }\n    });\n  };\n\n  toggleEditingTitle = () =>\n    this.setState({ editingTitle: !this.state.editingTitle });\n\n  handleChangeTitle = e => this.setState({ title: e.target.value });\n\n  editListTitle = async () => {\n    const { listId, dispatch } = this.props;\n    const { title } = this.state;\n\n    this.toggleEditingTitle();\n\n    dispatch({\n      type: \"CHANGE_LIST_TITLE\",\n      payload: { listId, listTitle: title }\n    });\n  };\n\n  deleteList = async () => {\n    const { listId, list, dispatch } = this.props;\n\n    if (window.confirm(\"Are you sure to delete this list?\")) {\n      dispatch({\n        type: \"DELETE_LIST\",\n        payload: {listId, cards: list.cards}\n      });\n    }\n  };\n\n  render() {\n    const { list, index } = this.props;\n    const { editingTitle, addingCard, title } = this.state;\n\n    return (\n      <Draggable draggableId={list._id} index={index}>\n        {(provided, snapshot) => (\n          <div\n            ref={provided.innerRef}\n            {...provided.draggableProps}\n            {...provided.dragHandleProps}\n            className=\"List\"\n          >\n            {editingTitle ? (\n              <ListEditor\n                list={list}\n                title={title}\n                handleChangeTitle={this.handleChangeTitle}\n                saveList={this.editListTitle}\n                onClickOutside={this.editListTitle}\n                deleteList={this.deleteList}\n              />\n            ) : (\n              <div className=\"List-Title\" onClick={this.toggleEditingTitle}>\n                {list.title}\n              </div>\n            )}\n\n            <Droppable droppableId={list._id}>\n              {(provided, _snapshot) => (\n                <div ref={provided.innerRef} className=\"Lists-Cards\">\n                  {list.cards &&\n                    list.cards.map((cardId, index) => (\n                      <Card\n                        key={cardId}\n                        cardId={cardId}\n                        index={index}\n                        listId={list._id}\n                      />\n                    ))}\n\n                  {provided.placeholder}\n\n                  {addingCard ? (\n                    <CardEditor\n                      onSave={this.addCard}\n                      onCancel={this.toggleAddingCard}\n                      adding\n                    />\n                  ) : (\n                    <div className=\"Toggle-Add-Card\" onClick={this.toggleAddingCard}>\n                      <ion-icon name=\"add\" /> Add a card\n                    </div>\n                  )}\n                </div>\n              )}\n            </Droppable>\n          </div>\n        )}\n      </Draggable>\n    );\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n  list: state.listsById[ownProps.listId]\n});\n\nexport default connect(mapStateToProps)(List);\n"]},"metadata":{},"sourceType":"module"}