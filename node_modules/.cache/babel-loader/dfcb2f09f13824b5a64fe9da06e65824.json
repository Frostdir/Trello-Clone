{"ast":null,"code":"import _objectWithoutProperties from\"C:/Users/1/Desktop/trello-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _toPropertyKey from\"C:/Users/1/Desktop/trello-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toPropertyKey\";import _objectSpread from\"C:/Users/1/Desktop/trello-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/1/Desktop/trello-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _toConsumableArray from\"C:/Users/1/Desktop/trello-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import{combineReducers,createStore}from\"redux\";import throttle from\"lodash.throttle\";import seed from\"./seed\";var board=function board(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{lists:[]};var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case\"ADD_LIST\":{var listId=action.payload.listId;return{lists:[].concat(_toConsumableArray(state.lists),[listId])};}case\"MOVE_LIST\":{var _action$payload=action.payload,oldListIndex=_action$payload.oldListIndex,newListIndex=_action$payload.newListIndex;var newLists=Array.from(state.lists);var _newLists$splice=newLists.splice(oldListIndex,1),_newLists$splice2=_slicedToArray(_newLists$splice,1),removedList=_newLists$splice2[0];newLists.splice(newListIndex,0,removedList);return{lists:newLists};}case\"DELETE_LIST\":{var _listId=action.payload.listId;var filterDeleted=function filterDeleted(tmpListId){return tmpListId!==_listId;};var _newLists=state.lists.filter(filterDeleted);return{lists:_newLists};}default:return state;}};var listsById=function listsById(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case\"ADD_LIST\":{var _action$payload2=action.payload,listId=_action$payload2.listId,listTitle=_action$payload2.listTitle;return _objectSpread(_objectSpread({},state),{},{[listId]:{_id:listId,title:listTitle,cards:[]}});}case\"CHANGE_LIST_TITLE\":{var _action$payload3=action.payload,_listId2=_action$payload3.listId,_listTitle=_action$payload3.listTitle;return _objectSpread(_objectSpread({},state),{},{[_listId2]:_objectSpread(_objectSpread({},state[_listId2]),{},{title:_listTitle})});}case\"DELETE_LIST\":{var _listId3=action.payload.listId;var deletedList=state[_listId3],restOfLists=_objectWithoutProperties(state,[_listId3].map(_toPropertyKey));return restOfLists;}case\"ADD_CARD\":{var _action$payload4=action.payload,_listId4=_action$payload4.listId,cardId=_action$payload4.cardId;return _objectSpread(_objectSpread({},state),{},{[_listId4]:_objectSpread(_objectSpread({},state[_listId4]),{},{cards:[].concat(_toConsumableArray(state[_listId4].cards),[cardId])})});}case\"MOVE_CARD\":{var _action$payload5=action.payload,oldCardIndex=_action$payload5.oldCardIndex,newCardIndex=_action$payload5.newCardIndex,sourceListId=_action$payload5.sourceListId,destListId=_action$payload5.destListId;// Move within the same list\nif(sourceListId===destListId){var newCards=Array.from(state[sourceListId].cards);var _newCards$splice=newCards.splice(oldCardIndex,1),_newCards$splice2=_slicedToArray(_newCards$splice,1),_removedCard=_newCards$splice2[0];newCards.splice(newCardIndex,0,_removedCard);return _objectSpread(_objectSpread({},state),{},{[sourceListId]:_objectSpread(_objectSpread({},state[sourceListId]),{},{cards:newCards})});}// Move card from one list to another\nvar sourceCards=Array.from(state[sourceListId].cards);var _sourceCards$splice=sourceCards.splice(oldCardIndex,1),_sourceCards$splice2=_slicedToArray(_sourceCards$splice,1),removedCard=_sourceCards$splice2[0];var destinationCards=Array.from(state[destListId].cards);destinationCards.splice(newCardIndex,0,removedCard);return _objectSpread(_objectSpread({},state),{},{[sourceListId]:_objectSpread(_objectSpread({},state[sourceListId]),{},{cards:sourceCards}),[destListId]:_objectSpread(_objectSpread({},state[destListId]),{},{cards:destinationCards})});}case\"DELETE_CARD\":{var _action$payload6=action.payload,deletedCardId=_action$payload6.cardId,_listId5=_action$payload6.listId;var filterDeleted=function filterDeleted(cardId){return cardId!==deletedCardId;};return _objectSpread(_objectSpread({},state),{},{[_listId5]:_objectSpread(_objectSpread({},state[_listId5]),{},{cards:state[_listId5].cards.filter(filterDeleted)})});}default:return state;}};var cardsById=function cardsById(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case\"ADD_CARD\":{var _action$payload7=action.payload,cardText=_action$payload7.cardText,cardId=_action$payload7.cardId;return _objectSpread(_objectSpread({},state),{},{[cardId]:{text:cardText,_id:cardId}});}case\"CHANGE_CARD_TEXT\":{var _action$payload8=action.payload,_cardText=_action$payload8.cardText,_cardId=_action$payload8.cardId;return _objectSpread(_objectSpread({},state),{},{[_cardId]:_objectSpread(_objectSpread({},state[_cardId]),{},{text:_cardText})});}case\"DELETE_CARD\":{var _cardId2=action.payload.cardId;var deletedCard=state[_cardId2],restOfCards=_objectWithoutProperties(state,[_cardId2].map(_toPropertyKey));return restOfCards;}// Find every card from the deleted list and remove it\ncase\"DELETE_LIST\":{var cardIds=action.payload.cards;return Object.keys(state).filter(function(cardId){return!cardIds.includes(cardId);}).reduce(function(newState,cardId){return _objectSpread(_objectSpread({},newState),{},{[cardId]:state[cardId]});},{});}default:return state;}};var reducers=combineReducers({board:board,listsById:listsById,cardsById:cardsById});var saveState=function saveState(state){try{var serializedState=JSON.stringify(state);localStorage.setItem(\"state\",serializedState);}catch(_unused){// ignore write errors\n}};var loadState=function loadState(){try{var serializedState=localStorage.getItem(\"state\");if(serializedState===null){return undefined;}return JSON.parse(serializedState);}catch(err){return undefined;}};var persistedState=loadState();var store=createStore(reducers,persistedState);store.subscribe(throttle(function(){saveState(store.getState());},1000));console.log(store.getState());if(!store.getState().board.lists.length){console.log(\"SEED\");seed(store);}export default store;","map":{"version":3,"sources":["C:/Users/1/Desktop/trello-clone/src/store.js"],"names":["combineReducers","createStore","throttle","seed","board","state","lists","action","type","listId","payload","oldListIndex","newListIndex","newLists","Array","from","splice","removedList","filterDeleted","tmpListId","filter","listsById","listTitle","_id","title","cards","deletedList","restOfLists","cardId","oldCardIndex","newCardIndex","sourceListId","destListId","newCards","removedCard","sourceCards","destinationCards","deletedCardId","cardsById","cardText","text","deletedCard","restOfCards","cardIds","Object","keys","includes","reduce","newState","reducers","saveState","serializedState","JSON","stringify","localStorage","setItem","loadState","getItem","undefined","parse","err","persistedState","store","subscribe","getState","console","log","length"],"mappings":"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","sourcesContent":["import { combineReducers, createStore } from \"redux\";\nimport throttle from \"lodash.throttle\";\nimport seed from \"./seed\";\n\nconst board = (state = { lists: [] }, action) => {\n  switch (action.type) {\n    case \"ADD_LIST\": {\n      const { listId } = action.payload;\n      return { lists: [...state.lists, listId] };\n    }\n    case \"MOVE_LIST\": {\n      const { oldListIndex, newListIndex } = action.payload;\n      const newLists = Array.from(state.lists);\n      const [removedList] = newLists.splice(oldListIndex, 1);\n      newLists.splice(newListIndex, 0, removedList);\n      return { lists: newLists };\n    }\n    case \"DELETE_LIST\": {\n      const { listId } = action.payload;\n      const filterDeleted = tmpListId => tmpListId !== listId;\n      const newLists = state.lists.filter(filterDeleted);\n      return { lists: newLists };\n    }\n    default:\n      return state;\n  }\n};\n\nconst listsById = (state = {}, action) => {\n  switch (action.type) {\n    case \"ADD_LIST\": {\n      const { listId, listTitle } = action.payload;\n      return {\n        ...state,\n        [listId]: { _id: listId, title: listTitle, cards: [] }\n      };\n    }\n    case \"CHANGE_LIST_TITLE\": {\n      const { listId, listTitle } = action.payload;\n      return {\n        ...state,\n        [listId]: { ...state[listId], title: listTitle }\n      };\n    }\n    case \"DELETE_LIST\": {\n      const { listId } = action.payload;\n      const { [listId]: deletedList, ...restOfLists } = state;\n      return restOfLists;\n    }\n    case \"ADD_CARD\": {\n      const { listId, cardId } = action.payload;\n      return {\n        ...state,\n        [listId]: { ...state[listId], cards: [...state[listId].cards, cardId] }\n      };\n    }\n    case \"MOVE_CARD\": {\n      const {\n        oldCardIndex,\n        newCardIndex,\n        sourceListId,\n        destListId\n      } = action.payload;\n      // Move within the same list\n      if (sourceListId === destListId) {\n        const newCards = Array.from(state[sourceListId].cards);\n        const [removedCard] = newCards.splice(oldCardIndex, 1);\n        newCards.splice(newCardIndex, 0, removedCard);\n        return {\n          ...state,\n          [sourceListId]: { ...state[sourceListId], cards: newCards }\n        };\n      }\n      // Move card from one list to another\n      const sourceCards = Array.from(state[sourceListId].cards);\n      const [removedCard] = sourceCards.splice(oldCardIndex, 1);\n      const destinationCards = Array.from(state[destListId].cards);\n      destinationCards.splice(newCardIndex, 0, removedCard);\n      return {\n        ...state,\n        [sourceListId]: { ...state[sourceListId], cards: sourceCards },\n        [destListId]: { ...state[destListId], cards: destinationCards }\n      };\n    }\n    case \"DELETE_CARD\": {\n      const { cardId: deletedCardId, listId } = action.payload;\n      const filterDeleted = cardId => cardId !== deletedCardId;\n      return {\n        ...state,\n        [listId]: {\n          ...state[listId],\n          cards: state[listId].cards.filter(filterDeleted)\n        }\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nconst cardsById = (state = {}, action) => {\n  switch (action.type) {\n    case \"ADD_CARD\": {\n      const { cardText, cardId } = action.payload;\n      return { ...state, [cardId]: { text: cardText, _id: cardId } };\n    }\n    case \"CHANGE_CARD_TEXT\": {\n      const { cardText, cardId } = action.payload;\n      return { ...state, [cardId]: { ...state[cardId], text: cardText } };\n    }\n    case \"DELETE_CARD\": {\n      const { cardId } = action.payload;\n      const { [cardId]: deletedCard, ...restOfCards } = state;\n      return restOfCards;\n    }\n    // Find every card from the deleted list and remove it\n    case \"DELETE_LIST\": {\n      const { cards: cardIds } = action.payload;\n      return Object.keys(state)\n        .filter(cardId => !cardIds.includes(cardId))\n        .reduce(\n          (newState, cardId) => ({ ...newState, [cardId]: state[cardId] }),\n          {}\n        );\n    }\n    default:\n      return state;\n  }\n};\n\nconst reducers = combineReducers({\n  board,\n  listsById,\n  cardsById\n});\n\nconst saveState = state => {\n  try {\n    const serializedState = JSON.stringify(state);\n    localStorage.setItem(\"state\", serializedState);\n  } catch {\n    // ignore write errors\n  }\n};\n\nconst loadState = () => {\n  try {\n    const serializedState = localStorage.getItem(\"state\");\n    if (serializedState === null) {\n      return undefined;\n    }\n    return JSON.parse(serializedState);\n  } catch (err) {\n    return undefined;\n  }\n};\n\nconst persistedState = loadState();\nconst store = createStore(reducers, persistedState);\n\nstore.subscribe(\n  throttle(() => {\n    saveState(store.getState());\n  }, 1000)\n);\n\nconsole.log(store.getState());\nif (!store.getState().board.lists.length) {\n  console.log(\"SEED\");\n  seed(store);\n}\n\nexport default store;\n"]},"metadata":{},"sourceType":"module"}