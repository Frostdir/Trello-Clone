{"ast":null,"code":"import _objectSpread from\"C:/Users/1/Desktop/trello-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"C:/Users/1/Desktop/trello-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/1/Desktop/trello-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/Users/1/Desktop/trello-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/1/Desktop/trello-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/1/Desktop/trello-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/1/Desktop/trello-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import\"../styles/Card.css\";import React,{Component}from\"react\";import{connect}from\"react-redux\";import{Draggable}from\"react-beautiful-dnd\";import CardEditor from\"./CardEditor\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Card=/*#__PURE__*/function(_Component){_inherits(Card,_Component);var _super=_createSuper(Card);function Card(){var _this;_classCallCheck(this,Card);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={hover:false,editing:false};_this.startHover=function(){return _this.setState({hover:true});};_this.endHover=function(){return _this.setState({hover:false});};_this.startEditing=function(){return _this.setState({hover:false,editing:true,text:_this.props.card.text});};_this.endEditing=function(){return _this.setState({hover:false,editing:false});};_this.editCard=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(text){var _this$props,card,dispatch;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$props=_this.props,card=_this$props.card,dispatch=_this$props.dispatch;_this.endEditing();dispatch({type:\"CHANGE_CARD_TEXT\",payload:{cardId:card._id,cardText:text}});case 3:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.deleteCard=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _this$props2,listId,card,dispatch;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this$props2=_this.props,listId=_this$props2.listId,card=_this$props2.card,dispatch=_this$props2.dispatch;if(window.confirm(\"Are you sure to delete this card?\")){dispatch({type:\"DELETE_CARD\",payload:{cardId:card._id,listId:listId}});}case 2:case\"end\":return _context2.stop();}}},_callee2);}));return _this;}_createClass(Card,[{key:\"render\",value:function render(){var _this2=this;var _this$props3=this.props,card=_this$props3.card,index=_this$props3.index;var _this$state=this.state,hover=_this$state.hover,editing=_this$state.editing;if(!editing){return/*#__PURE__*/_jsx(Draggable,{draggableId:card._id,index:index,children:function children(provided,snapshot){return/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread(_objectSpread({ref:provided.innerRef},provided.draggableProps),provided.dragHandleProps),{},{className:\"Card\",onMouseEnter:_this2.startHover,onMouseLeave:_this2.endHover,children:[hover&&/*#__PURE__*/_jsx(\"div\",{className:\"Card-Icons\",children:/*#__PURE__*/_jsx(\"div\",{className:\"Card-Icon\",onClick:_this2.startEditing,children:/*#__PURE__*/_jsx(\"ion-icon\",{name:\"create\"})})}),card.text]}));}});}else{return/*#__PURE__*/_jsx(CardEditor,{text:card.text,onSave:this.editCard,onDelete:this.deleteCard,onCancel:this.endEditing});}}}]);return Card;}(Component);var mapStateToProps=function mapStateToProps(state,ownProps){return{card:state.cardsById[ownProps.cardId]};};export default connect(mapStateToProps)(Card);","map":{"version":3,"sources":["C:/Users/1/Desktop/trello-clone/src/components/Card.js"],"names":["React","Component","connect","Draggable","CardEditor","Card","state","hover","editing","startHover","setState","endHover","startEditing","text","props","card","endEditing","editCard","dispatch","type","payload","cardId","_id","cardText","deleteCard","listId","window","confirm","index","provided","snapshot","innerRef","draggableProps","dragHandleProps","mapStateToProps","ownProps","cardsById"],"mappings":"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","sourcesContent":["import \"../styles/Card.css\";\n\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Draggable } from \"react-beautiful-dnd\";\n\nimport CardEditor from \"./CardEditor\";\n\nclass Card extends Component {\n  state = {\n    hover: false,\n    editing: false\n  };\n\n  startHover = () => this.setState({ hover: true });\n  endHover = () => this.setState({ hover: false });\n\n  startEditing = () =>\n    this.setState({\n      hover: false,\n      editing: true,\n      text: this.props.card.text\n    });\n\n  endEditing = () => this.setState({ hover: false, editing: false });\n\n  editCard = async text => {\n    const { card, dispatch } = this.props;\n\n    this.endEditing();\n\n    dispatch({\n      type: \"CHANGE_CARD_TEXT\",\n      payload: { cardId: card._id, cardText: text }\n    });\n  };\n\n  deleteCard = async () => {\n    const { listId, card, dispatch } = this.props;\n\n    if (window.confirm(\"Are you sure to delete this card?\")) {\n      dispatch({\n        type: \"DELETE_CARD\",\n        payload: { cardId: card._id, listId }\n      });\n    }\n  };\n\n  render() {\n    const { card, index } = this.props;\n    const { hover, editing } = this.state;\n\n    if (!editing) {\n      return (\n        <Draggable draggableId={card._id} index={index}>\n          {(provided, snapshot) => (\n            <div\n              ref={provided.innerRef}\n              {...provided.draggableProps}\n              {...provided.dragHandleProps}\n              className=\"Card\"\n              onMouseEnter={this.startHover}\n              onMouseLeave={this.endHover}\n            >\n              {hover && (\n                <div className=\"Card-Icons\">\n                  <div className=\"Card-Icon\" onClick={this.startEditing}>\n                    <ion-icon name=\"create\" />\n                  </div>\n                </div>\n              )}\n\n              {card.text}\n            </div>\n          )}\n        </Draggable>\n      );\n    } else {\n      return (\n        <CardEditor\n          text={card.text}\n          onSave={this.editCard}\n          onDelete={this.deleteCard}\n          onCancel={this.endEditing}\n        />\n      );\n    }\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n  card: state.cardsById[ownProps.cardId]\n});\n\nexport default connect(mapStateToProps)(Card);\n"]},"metadata":{},"sourceType":"module"}